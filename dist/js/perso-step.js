let filterItemsSelector=".filterItem",filterItems=document.querySelectorAll(filterItemsSelector);filterItems.forEach((function(t){t.addEventListener("click",(function(t){let e=this.dataset.attribute,o=this.dataset.value;Array.prototype.slice.call(this.parentNode.children).forEach((function(t){t.classList.remove("-active")})),this.classList.add("-active"),"couleur-du-bracelet"===e&&changeImage(o,".watch__strap"),"couleur-du-cadran"===e&&changeImage(o,".watch__dial");let n=document.getElementById(e);n.value=o,jQuery(n).trigger("change.wc-variation-form"),console.log("trigger")}))}));let changeImage=function(t,e){let o=document.querySelector(e),n=o.dataset.source;n=n.replace("{color}",t),o.src=n},addToCartSelector="add-product-to-cart",buttonAddToCart=document.getElementById(addToCartSelector);buttonAddToCart.addEventListener("click",(function(){document.querySelector(".variations_form").submit()})),jQuery(document).on("show_variation",(function(){let t=document.querySelector(".woocommerce-variation-price .woocommerce-Price-amount").innerHTML;document.getElementById("product-final-price").innerHTML=t}));let stepButtonSelector=".step__button",stepButtons=document.querySelectorAll(stepButtonSelector);console.log(stepButtons),stepButtons.forEach((function(t){t.addEventListener("click",(function(){let t=parseInt(this.dataset.step);history.state||history.pushState(t,null,null),nextStep(t+1,!0)}))}));let nextStep=function(t,e){document.querySelector(".current-step").innerHTML=t,document.querySelectorAll(".step").forEach((function(t){t.style.display="none"})),document.getElementById("step-"+t).style.display="block",e&&history.pushState(t,null,null)};window.addEventListener("popstate",(function(t){console.log(t.state),null!=t.state&&nextStep(t.state,!1)}));